(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02fc3f77"],{"18f6":function(e,t,s){},"1bef":function(e,t,s){"use strict";var a=s("18f6"),r=s.n(a);r.a},"35ca":function(e,t,s){"use strict";var a,r,o,c=s("bc3a"),n=s.n(c);void 0===a?(r="https://spotilize.herokuapp.com",o=""):(r=a.baseURL,o=a.serverPort);var i=r+o+"/users",u=()=>{return n.a.create({baseURL:i})};t["a"]={fetchUsers(){return u().get("/")},createUser(e){return u().post("/add",e)},deleteUser(e){return u().delete(`/delete/${e}`)},getUser(e){return u().get(`/${e}`)},loginUser(e){return u().post("/login",e)},updateToken(e,t){return u().put(`/updateToken/${e}`,t)},getUserImage(e){return u().get(`/image/${e}`)}}},8345:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"auth"}},[!0===e.success?s("div",{staticClass:"success"},[!1===e.user?s("div",[s("h1",[e._v("Thank you for using SmartDJ!")]),s("h3",[e._v("To control your Spotify using gestures and your webcam we need to take a few pictures of you")]),s("p",[e._v("These pictures will be used by our machine learning algorithm to implement facial recognition")]),s("p",[e._v("Click the button below to take finish creating your an account")]),s("md-button",{staticClass:"md-raised chr",on:{click:function(t){e.cont()}}},[e._v("Continue")])],1):e._e()]):e._e(),!1===e.success?s("div",{staticClass:"fail"},[s("h1",[e._v("Uh oh!")]),s("hr"),s("p",[e._v("Something went wrong linking your Spotify Account")]),s("font-awesome-icon",{attrs:{icon:"frown",size:"3x"}}),s("br"),s("br"),s("p",[e._v("Please go back and try again")])],1):e._e()])},r=[],o=s("2f94"),c=s("35ca"),n={name:"Auth",data(){return{success:Boolean,user:Boolean,code:null}},mounted(){this.$route.query.code&&(this.code=this.$route.query.code,this.exchange()),this.$route.query.error&&(this.success=!1)},methods:{async exchange(){var e=this.code;const t=await o["a"].exchange({code:e});if(!0===t.data.success){this.success=!0,localStorage.setItem("access_token",t.data.access_token),localStorage.setItem("refresh_token",t.data.refresh_token);const e=await o["a"].getProfile(t.data.access_token);if(!0===e.data.success){var s=e.data.email;localStorage.setItem("email",s);const t=await c["a"].getUser(s);!0===t.data.success?(this.user=!0,this.$router.replace({name:"visualizer"})):this.user=!1}}else this.success=!1},cont(){this.$router.replace({name:"AccountCreation"})}}},i=n,u=(s("1bef"),s("2877")),l=Object(u["a"])(i,a,r,!1,null,"9920a7de",null);l.options.__file="AuthPage.vue";t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-02fc3f77.1db30899.js.map